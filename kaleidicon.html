<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>kaleidicon</title>
		<link id="favicon" rel="icon" type="image/png" href="/favicon.png">
		<style type="text/css">
		</style>
	</head>
	<body>
		<script type="text/javascript">
			var kaleidicon = (function() {
					var ctx,
						canvas = document.createElement('canvas'),
						dim = canvas.height = canvas.width = 16,
						img = document.createElement('img'),
						link = document.getElementById('favicon'),
						body = document.getElementsByTagName('body')[0],
						getRandomRgb = function(){
							return 'rgb(' + 
									Math.floor(Math.random()*256) + ',' + 
									Math.floor(Math.random()*256) + ',' +
									Math.floor(Math.random()*256) + ')';
						},
						getRandomPoint = function(){
							return { x: Math.floor(Math.random()*dim+1), y: Math.floor(Math.random()*dim+1) }
						}
						drawRandomLine = function(){
							var startPoint = getRandomPoint();
							var endPoint = getRandomPoint();
							var color = ctx.fillStyle = getRandomRgb();
							//draw the main line
							drawReflectedLines(startPoint, endPoint, color);
						}
						drawReflectedLines = function(){
							// wacky math time
						};
				
				if (canvas.getContext) {
					body.appendChild(canvas);
					ctx = canvas.getContext('2d');
					ctx.fillStyle = getRandomRgb();
					ctx.fillRect(0,0,dim,dim);
					
					
					
					link.href = canvas.toDataURL('image/png');

				}

			})();
		
		</script>
	</body>
</html>